<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Выбор времени</title>
    <link rel="stylesheet" type="text/css" href="css/teatr.css">
</head>
<body>

    <div class="container">
        <h2>Фильм: <span id="selectedMovieTitle"></span></h2>
        <h3>Кинотеатр: <span id="selectedCinema"></span></h3>
        <h3>Время: <span id="selectedTime"></span></h3>

       <div id="cinema1">
        <p>Festival Cinema</p>
        <div style="display: flex; justify-content: space-between;">
            <button type="button" class="timeButton" onclick="selectTime('time1')">12:00</button>
            <button type="button" class="timeButton" onclick="selectTime('time2')">15:00</button>
            <button type="button" class="timeButton" onclick="selectTime('time3')">18:00</button>
        </div>
    </div>

    <div id="cinema2">
        <p>Ertis cinema</p>
        <div style="display: flex; justify-content: space-between;">
            <button type="button" class="timeButton" onclick="selectTime('time4')">12:00</button>
            <button type="button" class="timeButton" onclick="selectTime('time5')">15:00</button>
            <button type="button" class="timeButton" onclick="selectTime('time6')">18:00</button>
        </div>
    </div>

    <div id="cinema3">
        <p>Кинотеатр им. Шакена Айманова</p>
        <div style="display: flex; justify-content: space-between;">
            <button type="button" class="timeButton" onclick="selectTime('time7')">12:00</button>
            <button type="button" class="timeButton" onclick="selectTime('time8')">15:00</button>
            <button type="button" class="timeButton" onclick="selectTime('time9')">18:00 </button>
        </div>
    </div>
    
    <button type="button" id="backButton" onclick="goBack()">Назад</button>
    <button type="button" id="nextButton" onclick="goNext()">Далее</button>
</div>

<script>
    // Retrieve the selected movie title, cinema, and time from local storage
    var selectedMovie = localStorage.getItem('selectedMovie');
    var selectedCinema = localStorage.getItem('selectedCinema');
    var selectedTime = localStorage.getItem('selectedTime');

    // Display the selected movie title, cinema, and time on the page
    document.getElementById('selectedMovieTitle').innerText = selectedMovie;
    document.getElementById('selectedCinema').innerText = selectedCinema || 'Не выбран';
    document.getElementById('selectedTime').innerText = selectedTime || 'Не выбран';

    // Retrieve the selected movie title from local storage
    var selectedMovie = localStorage.getItem('selectedMovie');

    // Display the selected movie title on the page
    document.getElementById('selectedMovieTitle').innerText = selectedMovie;

    var selectedTime = null;
    var selectedCinema = null;

    // Function to handle time selection
    function selectTime(timeId) {
        // Reset the previous selection
        if (selectedTime) {
            document.getElementById(selectedTime).classList.remove('active');
        }

        // Highlight the selected time
        document.getElementById(timeId).classList.add('active');
        selectedTime = timeId;

        // Display the selected time on the page
        document.getElementById('selectedTime').innerText = selectedTime;
    }

    // Function to go back to the previous page
    function goBack() {
        window.history.back();
    }

    // Function to navigate to the next page (mesto.html)
    function goNext() {
        // Save the selected time and cinema to local storage
        localStorage.setItem('selectedTime', selectedTime);
        // You can add more logic to determine the selected cinema
        localStorage.setItem('selectedCinema', selectedCinema);

        // Redirect to mesto.html
        window.location.href = 'mesto.html';
    }
</script>
</body>
</html>
